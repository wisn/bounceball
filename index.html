<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <title>BounceBall</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <style type="text/css">
      #ball {
        background-color: #000;
        border-radius: 100%;
        height: 50px;
        margin: 0;
        position: absolute;
        width: 50px;
        z-index: 1000;
      }

      #debugger {
        background-color: #eeff41;
        bottom: 0;
        color: #222;
        padding: .5em 1em;
        position: fixed;
        right: 0;
      }
    </style>
  </head>
  <body>
    <div id="ball"></div>

    <div id="debugger">
      Ball position (x, y):
      (<span id="ball-x"></span>, <span id="ball-y"></span>)
    </div>

    <script>
      const ball = document.getElementById('ball');
      ball.onmousedown = function(event) {
        let shiftX = event.clientX - ball.getBoundingClientRect().left;
        let shiftY = event.clientY - ball.getBoundingClientRect().top;

        document.body.append(ball);

        function moveAt(pageX, pageY) {
			    ball.style.left = pageX - shiftX + 'px';
			    ball.style.top = pageY - shiftY + 'px';

          const ballX = document.getElementById('ball-x');
          const ballY = document.getElementById('ball-y');

          ballX.innerHTML = pageX - shiftX;
          ballY.innerHTML = pageY - shiftY;
			  }

				moveAt(event.pageX, event.pageY);

				function onMouseMove(event) {
        	moveAt(event.pageX, event.pageY);
        }

				document.addEventListener('mousemove', onMouseMove);

				ball.onmouseup = function() {
          document.removeEventListener('mousemove', onMouseMove);
        	ball.onmouseup = null;
        };
      };

			ball.ondragstart = function() {
        return false;
      };
    </script>
  </body>
</html>

